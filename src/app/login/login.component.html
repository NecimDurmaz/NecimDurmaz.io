<nav aria-label="breadcrumb" class="breadcrumbMain" [routerLink]="['/ticket']">
  <div class="breadcrumbBack">
    <i class="fa-solid fa-angle-left"></i>
    <div>
      BACK</div>
  </div>
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a [routerLink]="['/ticket']" style=" color: var(--primaryColor);">Home</a></li>
    <li class="breadcrumb-item active" aria-current="page">Login</li>
  </ol>
</nav>
<div class="container " id="login" style="display: flex;justify-content: space-around;">

  <!-- GİRİS -->
  <div class="login-main lead" style="width:45%;">


    <div class="login-main__header" style="width: 100%;">
      <div class="col-md-4" style="display: flex;align-items:center;flex-direction: row-reverse;padding: 10px;"><img
          src="../../assets/login.svg" style="width: 97%;"></div>
      <h3>
        Giriş Yap
      </h3>
      <div style="border-bottom:1.5px solid black ;width:80%">
      </div>

    </div>

    <form [formGroup]="formLogin" form #form="ngForm" (ngSubmit)="submitForm(form)" style="width: 75%;">
      <div class="login-main__bottom">
        <div class="group">
          <div><i class="fa-solid fa-circle-user"></i>Email</div>
          <input type="text" placeholder="email" formControlName="email">
        </div>
        <div class="group">
          <div><i class="fa-solid fa-circle-user"></i>Şifre</div>
          <input type="password" placeholder="****" formControlName="password">
        </div>
        <div class="groupCheck">
          <input type="checkbox" (click)="changeRememberMe()">
          <div> Beni Hatırla</div>
        </div>
      </div>

      <div class="login-main__footer mt-3">
        <h5>Kayıtlı değil misin? <a routerLink="/register"><i> Kayit Ol </i></a> </h5>
        <button class="btn btnOnay" type="submit">Giriş Yap</button>
      </div>
    </form>
    <div *ngIf="(formSubmitted&& !(firebaseSS.userLoginStatus$.value) )  " class="login-main__footer">
      <h5 style="color:red;">Hatali email ve ya şifre lütfen tekrar deneyin.</h5>
    </div>
    <div class="login-main__footer">
      <a routerLink="/ticket">Misafir Olarak Devam Et.</a>
    </div>
  </div>

  <ng-container *ngIf="discountEventsGeneral" [ngTemplateOutlet]="discount"></ng-container>
  <ng-container *ngIf="!discountEventsGeneral" [ngTemplateOutlet]="lastEvents"></ng-container>


</div>

<ng-template #lastEvents>
  <!-- SON ETKINLIK -->
  <div class="lead event-main  " style="width:31%; " *ngIf="lastEventsGeneral?.body?.urlLink">
    <div class="card event-card mt-3">
      <div class="cardLast">
        <h5 style="margin:0px">** En Son Eklenen Etkinlik **</h5>
      </div>
      <img class="card-img-top" src="{{lastEventsGeneral?.body?.urlLink}}" height="200" alt="Card image cap">
      <div class="card-header">
        <h4 eventAdi class="card-title">{{lastEventsGeneral.body.eventAdi}}</h4>
      </div>
      <div class="card-body">

        <p class="card-text"> {{lastEventsGeneral.body.eventDetayi}}
        </p>

      </div>
      <div class="card-footer">

        <a [routerLink]="['/ticket/comments',lastEventsGeneral.primaryKey]" class="btn btnComments">Değerlendirmeler</a>
        <a [routerLink]="['/ticket/{{firebaseSS.Settings$?.value?.body?.ticketDesign}}',lastEventsGeneral.primaryKey]"
          class="btn btnBuy">Bilet almak için</a>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #discount>
  <!-- SON ETKINLIK -->
  <div class="lead event-main  " style="width:31%; " *ngIf="discountEventsGeneral">
    <div class="card event-card mt-3">
      <div style="      position: absolute;
      right: -34px;
      color: red;
      top: -6px;
  "><i class="fa-solid   fa-tag" style="  font-size: 83px;"></i><span style="    position: absolute;
    right: 17px;
    color: white;
    top: 28px;
    font-weight: bold;">%{{Discount$.value.body.discount}}</span> </div>
      <div class="cardLast">
        <h3 style="margin:0px"> İndirimli Etkinlik </h3>
      </div>
      <img class="card-img-top" src="{{discountEventsGeneral?.body?.urlLink}}" height="200" alt="Card image cap">
      <div class="card-header">
        <h4 eventAdi class="card-title">{{discountEventsGeneral.body.eventAdi}}</h4>
      </div>
      <div class="card-body">

        <p class="card-text"> {{discountEventsGeneral.body.eventDetayi}}
        </p>

      </div>
      <div class="card-footer">

        <a [routerLink]="['/ticket/comments',discountEventsGeneral.primaryKey]"
          class="btn btnComments">Değerlendirmeler</a>
        <a [routerLink]="['/ticket/{{firebaseSS.Settings$?.value?.body?.ticketDesign}}',discountEventsGeneral.primaryKey]"
          class="btn btnBuy">Bilet almak için</a>
      </div>
    </div>
  </div>
</ng-template>
